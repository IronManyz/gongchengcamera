/**
 * å…³äºåº”ç”¨é¡µé¢
 * æ˜¾ç¤ºåº”ç”¨ä¿¡æ¯ã€ç‰ˆæœ¬ã€å¼€å‘è€…ç­‰å†…å®¹
 */

import { BottomNavigation } from '../../components/common/BottomNavigation'
import router from '@ohos.router'

interface AppInfo {
  name: string
  description: string
  company: string
  website: string
  email: string
  github: string
}

@Entry
@Component
struct AboutPage {
  @State private appVersion: string = '1.0.0'
  @State private buildNumber: string = '2024.01.01'
  @State private appInfo: AppInfo = {
    name: 'å·¥ç¨‹æ‹è®°',
    description: 'ä¸“ä¸šçš„å·¥ç¨‹æ‹ç…§è®°å½•ç®¡ç†åº”ç”¨',
    company: 'å·¥ç¨‹æ‹è®°å›¢é˜Ÿ',
    website: 'https://engineering-camera.example.com',
    email: 'support@engineering-camera.example.com',
    github: 'https://github.com/engineering-camera'
  }

  private navigateBack(): void {
    try {
      router.replaceUrl({
        url: 'pages/settings/SettingsPlaceholderPage',
        params: {}
      }).catch((error: Error) => {
        console.error('Navigation back failed:', error)
      })
    } catch (error) {
      console.error('Navigation back exception:', error)
    }
  }

  build() {
    Column() {
      // å¤´éƒ¨å¯¼èˆª
      Row() {
        Row() {
          Text('â€¹')
            .fontSize(24)
            .fontColor('#1890FF')
            .onClick(() => {
              this.navigateBack()
            })
          Text('å…³äºåº”ç”¨')
            .fontSize(20)
            .fontWeight(FontWeight.Bold)
            .fontColor('#262626')
            .margin({ left: 8 })
        }
        .alignItems(VerticalAlign.Center)

        Blank()
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 12, bottom: 12 })
      .backgroundColor('#FFFFFF')

      // å†…å®¹åŒºåŸŸ
      Scroll() {
        Column({ space: 20 }) {
          // åº”ç”¨å›¾æ ‡å’Œåç§°
          Column() {
            // åº”ç”¨å›¾æ ‡å ä½ç¬¦
            Text('ğŸ“·')
              .fontSize(80)
              .fontColor('#1890FF')
              .margin({ bottom: 16 })

            Text(this.appInfo.name)
              .fontSize(28)
              .fontWeight(FontWeight.Bold)
              .fontColor('#262626')
              .margin({ bottom: 8 })

            Text(this.appInfo.description)
              .fontSize(16)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
          }
          .width('100%')
          .padding(40)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)

          // ç‰ˆæœ¬ä¿¡æ¯
          Column() {
            Text('ç‰ˆæœ¬ä¿¡æ¯')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Row() {
              Text('ç‰ˆæœ¬å·')
                .fontSize(14)
                .fontColor('#8C8C8C')
                .width(80)

              Text(this.appVersion)
                .fontSize(14)
                .fontColor('#262626')
                .layoutWeight(1)
                .textAlign(TextAlign.End)
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
            .border({ width: { bottom: 1 }, color: '#F0F0F0' })

            Row() {
              Text('æ„å»ºæ—¥æœŸ')
                .fontSize(14)
                .fontColor('#8C8C8C')
                .width(80)

              Text(this.buildNumber)
                .fontSize(14)
                .fontColor('#262626')
                .layoutWeight(1)
                .textAlign(TextAlign.End)
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Start)

          // å¼€å‘å›¢é˜Ÿ
          Column() {
            Text('å¼€å‘å›¢é˜Ÿ')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Text(this.appInfo.company)
              .fontSize(16)
              .fontColor('#262626')
              .width('100%')
              .textAlign(TextAlign.Center)
              .margin({ bottom: 20 })

            Text('ä¸“ä¸šçš„å·¥ç¨‹ç®¡ç†åº”ç”¨å¼€å‘å›¢é˜Ÿ')
              .fontSize(14)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
              .width('100%')
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)

          // è”ç³»æ–¹å¼
          Column() {
            Text('è”ç³»æˆ‘ä»¬')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Column({ space: 1 }) {
              Row() {
                Text('ğŸ“§ é‚®ç®±')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.email)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Copy email to clipboard')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')

              Row() {
                Text('ğŸŒ ç½‘ç«™')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.website)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Open website')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')

              Row() {
                Text('ğŸ’» GitHub')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.github)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Open GitHub')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')
            }
            .borderRadius(8)
            .border({ width: 1, color: '#E8E8E8' })
          }
          .width('100%')
          .padding(20)

          // ç‰ˆæƒä¿¡æ¯
          Column() {
            Text('Â© 2024 å·¥ç¨‹æ‹è®°å›¢é˜Ÿ')
              .fontSize(14)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
            Text('All rights reserved')
              .fontSize(12)
              .fontColor('#C0C0C0')
              .textAlign(TextAlign.Center)
              .margin({ top: 8 })
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)
        }
      }
      .layoutWeight(1)
      .backgroundColor('#F5F5F5')

      // åº•éƒ¨å¯¼èˆªæ 
      BottomNavigation({
        currentPage: 'pages/settings/SettingsPlaceholderPage'
      })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }
}