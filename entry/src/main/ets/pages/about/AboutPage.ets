/**
 * ÂÖ≥‰∫éÂ∫îÁî®È°µÈù¢
 * ÊòæÁ§∫Â∫îÁî®‰ø°ÊÅØ„ÄÅÁâàÊú¨„ÄÅÂºÄÂèëËÄÖÁ≠âÂÜÖÂÆπ
 */

import { BottomNavigation } from '../../components/common/BottomNavigation'
import router from '@ohos.router'

interface AppInfo {
  name: string
  description: string
  company: string
  website: string
  email: string
  github: string
}

@Entry
@Component
struct AboutPage {
  @State private appVersion: string = '1.0.0'
  @State private buildNumber: string = '2024.01.01'
  @State private appInfo: AppInfo = {
    name: 'Engineering Camera',
    description: '‰∏ì‰∏öÁöÑÂ∑•Á®ãÊãçÁÖßÁÆ°ÁêÜÂ∫îÁî®',
    company: 'Â∑•Á®ãÁõ∏Êú∫Âõ¢Èòü',
    website: 'https://engineering-camera.example.com',
    email: 'support@engineering-camera.example.com',
    github: 'https://github.com/engineering-camera'
  }

  private navigateBack(): void {
    try {
      router.replaceUrl({
        url: 'pages/settings/SettingsPlaceholderPage',
        params: {}
      }).catch((error: Error) => {
        console.error('Navigation back failed:', error)
      })
    } catch (error) {
      console.error('Navigation back exception:', error)
    }
  }

  build() {
    Column() {
      // Â§¥ÈÉ®ÂØºËà™
      Row() {
        Row() {
          Text('‚Äπ')
            .fontSize(24)
            .fontColor('#1890FF')
            .onClick(() => {
              this.navigateBack()
            })
          Text('ÂÖ≥‰∫éÂ∫îÁî®')
            .fontSize(20)
            .fontWeight(FontWeight.Bold)
            .fontColor('#262626')
            .margin({ left: 8 })
        }
        .alignItems(VerticalAlign.Center)

        Blank()
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 12, bottom: 12 })
      .backgroundColor('#FFFFFF')

      // ÂÜÖÂÆπÂå∫Âüü
      Scroll() {
        Column({ space: 20 }) {
          // Â∫îÁî®ÂõæÊ†áÂíåÂêçÁß∞
          Column() {
            // Â∫îÁî®ÂõæÊ†áÂç†‰ΩçÁ¨¶
            Text('üì∑')
              .fontSize(80)
              .fontColor('#1890FF')
              .margin({ bottom: 16 })

            Text(this.appInfo.name)
              .fontSize(28)
              .fontWeight(FontWeight.Bold)
              .fontColor('#262626')
              .margin({ bottom: 8 })

            Text(this.appInfo.description)
              .fontSize(16)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
          }
          .width('100%')
          .padding(40)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)

          // ÁâàÊú¨‰ø°ÊÅØ
          Column() {
            Text('ÁâàÊú¨‰ø°ÊÅØ')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Row() {
              Text('ÁâàÊú¨Âè∑')
                .fontSize(14)
                .fontColor('#8C8C8C')
                .width(80)

              Text(this.appVersion)
                .fontSize(14)
                .fontColor('#262626')
                .layoutWeight(1)
                .textAlign(TextAlign.End)
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
            .border({ width: { bottom: 1 }, color: '#F0F0F0' })

            Row() {
              Text('ÊûÑÂª∫Êó•Êúü')
                .fontSize(14)
                .fontColor('#8C8C8C')
                .width(80)

              Text(this.buildNumber)
                .fontSize(14)
                .fontColor('#262626')
                .layoutWeight(1)
                .textAlign(TextAlign.End)
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Start)

          // ÂºÄÂèëÂõ¢Èòü
          Column() {
            Text('ÂºÄÂèëÂõ¢Èòü')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Text(this.appInfo.company)
              .fontSize(16)
              .fontColor('#262626')
              .width('100%')
              .textAlign(TextAlign.Center)
              .margin({ bottom: 20 })

            Text('‰∏ì‰∏öÁöÑÂ∑•Á®ãÁÆ°ÁêÜÂ∫îÁî®ÂºÄÂèëÂõ¢Èòü')
              .fontSize(14)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
              .width('100%')
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)

          // ËÅîÁ≥ªÊñπÂºè
          Column() {
            Text('ËÅîÁ≥ªÊàë‰ª¨')
              .fontSize(18)
              .fontWeight(FontWeight.Medium)
              .fontColor('#262626')
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Column({ space: 1 }) {
              Row() {
                Text('üìß ÈÇÆÁÆ±')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.email)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Copy email to clipboard')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')

              Row() {
                Text('üåê ÁΩëÁ´ô')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.website)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Open website')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')

              Row() {
                Text('üíª GitHub')
                  .fontSize(14)
                  .fontColor('#8C8C8C')
                  .margin({ right: 12 })

                Text(this.appInfo.github)
                  .fontSize(14)
                  .fontColor('#1890FF')
                  .layoutWeight(1)
                  .textAlign(TextAlign.End)
                  .onClick(() => {
                    console.log('Open GitHub')
                  })
              }
              .width('100%')
              .padding({ top: 12, bottom: 12 })
              .backgroundColor('#FFFFFF')
            }
            .borderRadius(8)
            .border({ width: 1, color: '#E8E8E8' })
          }
          .width('100%')
          .padding(20)

          // ÁâàÊùÉ‰ø°ÊÅØ
          Column() {
            Text('¬© 2024 Engineering Camera Team')
              .fontSize(14)
              .fontColor('#8C8C8C')
              .textAlign(TextAlign.Center)
            Text('All rights reserved')
              .fontSize(12)
              .fontColor('#C0C0C0')
              .textAlign(TextAlign.Center)
              .margin({ top: 8 })
          }
          .width('100%')
          .padding(20)
          .backgroundColor('#FFFFFF')
          .alignItems(HorizontalAlign.Center)
        }
      }
      .layoutWeight(1)
      .backgroundColor('#F5F5F5')

      // Â∫ïÈÉ®ÂØºËà™Ê†è
      BottomNavigation({
        currentPage: 'pages/settings/SettingsPlaceholderPage'
      })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }
}