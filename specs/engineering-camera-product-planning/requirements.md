# EngineeringCamera 产品需求文档

> **版本**: v1.0.0
> **创建日期**: 2025-10-21
> **项目类型**: HarmonyOS 工程专业化相机应用

## 1. 产品概述

### 1.1 产品愿景
EngineeringCamera是一款专为工程施工场景设计的鸿蒙纯前端拍照管理应用，以工程与施���地点为单位管理照片，提供专业水印、照片编辑、团队协作等功能，满足市政、交通、电力、土建、园林、装修等各类工程现场照片归档与质量管理需求。

### 1.2 核心价值主张
- **专业化**: 针对工程场景的专业水印和信息记录
- **隐私优先**: 所有数据本地化存储，确保数据安全
- **离线可用**: 核心功能支持离线使用
- **团队协作**: 支持多人协作和权限管理
- **可审计性**: 完整的照片元数据和操作记录

## 2. 目标用户与使用场景

### 2.1 目标用户群体

#### 主要用户
1. **工程项目经理** (40%)
   - 负责项目整体进度和质量管控
   - 需要查看现场施工情况
   - 生成工程报告和汇报材料

2. **现场工程师** (35%)
   - 负责现场施工技术指导
   - 记录施工过程和问题
   - 与团队分享现场照片

3. **质检员** (15%)
   - 负责工程质量检查
   - 记录质量问题和整改情况
   - 生成质检报告

4. **监理工程师** (10%)
   - 监督施工质量
   - 记录监理过程
   - 生成监理报告

### 2.2 核心使用场景

#### 场景1: 现场拍照记录
**用户**: 现场工程师
**场景**: 在施工现场发现施工质量问题，需要拍照记录并添加专业水印
**需求**: 快速拍照、自动定位、专业水印、即时备注

#### 场景2: 工程进度汇报
**用户**: 项目经理
**场景**: 需要向业主汇报工程进度，生成包含照片的专业报告
**需求**: 照片筛选、拼图生成、PDF导出、一键分享

#### 场景3: 质量问题追踪
**用户**: 质检员
**场景**: 发现质量问题，需要记录问题并跟踪整改情况
**需求**: 问题标注、状态跟踪、团队通知、历史记录

#### 场景4: 多人协作管理
**用户**: 项目团队成员
**场景**: 多人在不同工点施工，需要共享照片和信息
**需求**: 项目分组、权限管理、数据同步、实时更新

## 3. 功能需求分析

### 3.1 核心功能模块 (按优先级排序)

#### P0 - 必须实现 (MVP)

##### 3.1.1 项目与施工点管理
- **功能描述**: 创建和管理工程项目及施工工点
- **用户故事**:
  - 作为项目经理，我希望能创建新工程项目，以便管理相关的施工照片
  - 作为现场工程师，我希望能为项目添加多个工点，以便分类管理不同位置的照片
- **验收标准**:
  - 用户可以创建、编辑、删除项目
  - 项目包含基本信息：名称、编号、客户、负责人、起止时间
  - 用户可以为项目添加多个工点
  - 工点支持地址录入和地图定位
  - 数据保存在本地数据库

##### 3.1.2 拍照与水印���能
- **功能描述**: 提供专业拍照功能，自动添加工程相关信息水印
- **用户故事**:
  - 作为现场工程师，我希望拍照时自动添加位置、时间、项目信息到照片上
  - 作为质检员，我希望能自定义水印内容，以便记录专业的质检信息
- **验收标准**:
  - 调用系统相机拍照
  - 自动获取GPS定位信息（经纬度、海拔）
  - 自动获取方向信息（方位角）
  - 自动获取地理位置信息（地址）
  - 自动获取天气信息
  - 支持自定义水印模板
  - 支持多行业水印风格
  - 实时预览水印效果

##### 3.1.3 本地数据存储
- **功能描述**: 使用本地数据库存储所有照片和项目数据
- **用户故事**:
  - 作为用户，我希望所有照片都保存在本地，确保数据隐私和安全
  - 作为用户，我希望在没有网络的情况下也能正常使用所有功能
- **验收标准**:
  - 使用HarmonyOS关系型数据库
  - 完整的数据表结构设计
  - 支持离线操作
  - 数据持久化存储
  - 支持数据备份和恢复

#### P1 - 重要功能 (v1.1)

##### 3.1.4 照片编辑功能
- **功能描述**: 提供基础的照片编辑和标注功能
- **用户故事**:
  - 作为现场工程师，我希望能对照片进行涂鸦标注，以便突出显示问题区域
  - 作为质检员，我希望能添加文字说明和尺寸标注
- **验收标准**:
  - 支持照片裁剪和旋转
  - 支持涂鸦绘制
  - 支持文字标注
  - 支持图形标注（箭头、方框等）
  - 支持马赛克模糊处理
  - 保存编辑结果

##### 3.1.5 照片管理与浏览
- **功能描述**: 提供照片的分类浏览和搜索功能
- **用户故事**:
  - 作为项目经理，我希望能按项目和工点浏览照片，以便查看特定区域的施工情况
  - 作为用户，我希望能搜索历史照片，以便查找特定时间或地点的照片
- **验收标准**:
  - 按项目和工点分类显示照片
  - 支持缩略图和详情查看
  - 支持按时间、地点、标签搜索
  - 支持照片信息展示
  - 支持批量操作

#### P2 - 增强功能 (v1.2)

##### 3.1.6 导出与分享功能
- **功能描述**: 提供多种格式的照片导出和分享功能
- **用户故事**:
  - 作为项目经理，我希望能生成PDF报告，以便向客户汇报工程进度
  - 作为用户，我希望能通过系统分享功能发送照片
- **验收标准**:
  - 支持单张照片导出
  - 支持批量照片导出
  - 支持生成PDF报告
  - 支持生成拼图报告
  - 集成系统分享功能
  - 支持一键导航功能

##### 3.1.7 团队协作功能
- **功能描述**: 支持多人团队协作和权限管理
- **用户故事**:
  - 作为项目经理，我希望能邀请团队成员加入项目，以便协作管理
  - 作为团队成员，我希望能查看项目的相关照片，但不能删除其他人的照片
- **验收标准**:
  - 支持团队成员邀请
  - 支持角色权限管理（Owner/Editor/Viewer）
  - 支持项目数据共享
  - 支持操作日志记录

#### P3 - 扩展功能 (v1.3)

##### 3.1.8 云端备份与同步
- **功能描述**: 提供可选的云端备份和多设备同步功能
- **用户故事**:
  - 作为用户，我希望能将数据备份到云端，以防设备丢失
  - 作为用户，我希望能在新设备上恢复我的数据
- **验收标准**:
  - 支持手动备份到云端
  - 支持定时自动备份
  - 支持多设备数据恢复
  - 支备冲突处理机制
  - 用户明确的授权确认

##### 3.1.9 主题系统
- **功能描述**: 支持明暗主题切换和系统主题跟随
- **用户故事**:
  - 作为用户，我希望能切换到暗色主题，以便在夜间使用时保护眼睛
  - 作为用户，我希望应用能自动跟随系统主题设置
- **验收标准**:
  - 支持明色主题
  - 支持暗色主题
  - 支持跟随系统主题
  - 主题切换时实时生效
  - 主题设置持久化保存

### 3.2 非功能性需求

#### 3.2.1 性能需求
- 应用启动时间 < 3秒
- 拍照响应时间 < 1秒
- 照片加载时间 < 2秒
- 支持单项目存储 > 10000张照片
- 内存占用 < 500MB

#### 3.2.2 安全需求
- 所有数据默认本地存储
- 支持数据加密存储
- 权限最小化原则
- 用户操作日志记录
- 敏感信息脱敏处理

#### 3.2.3 兼容性需求
- 支持HarmonyOS NEXT及后续版本
- 支持主流HarmonyOS设备
- 适配不同屏幕尺寸和分辨率
- 支持横竖屏切换

#### 3.2.4 可用性需求
- 支持离线使用核心功能
- 直观的用户界面设计
- 完整的操作引导
- 错误提示和恢复机制

## 4. 权限需求

### 4.1 必需权限
- **相机权限**: 拍摄照片和视频
- **定位权限**: 获取GPS位置信息
- **存储权限**: 保存照片和数据文件
- **麦克风权限**: 录制视频时采集音频

### 4.2 可选权限
- **网络权限**: 云端备份和同步功能
- **设备信息权限**: 用于匿名统计

### 4.3 权限使用原则
- 权限获取时提供明确说明
- 支持权限拒绝的降级方案
- 遵循最小权限原则
- 定期审查权限使用情况

## 5. 数据隐私与合规

### 5.1 数据处理原则
- 数据本地化优先
- 用户明确授权
- 最小化数据收集
- 透明的数据使用说明

### 5.2 用户权利
- 数据访问权
- 数据更正权
- 数据删除权
- 数据导出权
- 撤回同意权

### 5.3 合规要求
- 遵循数据保护法规
- 定期安全审计
- 隐私影响评估
- 数据泄露应急响应

## 6. 风险评估

### 6.1 技术风险
- **HarmonyOS版本兼容性**: 跟进系统更新，及时适配
- **数据存储性能**: 优化数据库查询和索引
- **内存管理**: 实现图片缓存和懒加载

### 6.2 产品风险
- **用户接受度**: 通过用户调研验证需求
- **竞品压力**: 强化专业功能和差异化
- **技术实现难度**: 分阶段实现，控制风险

### 6.3 合规风险
- **隐私法规变化**: 保持合规性更新
- **权限政策变更**: 及时调整权限申请策略

## 7. 成功指标

### 7.1 产品指标
- 用户日活跃度 > 60%
- 用户留存率（7天）> 70%
- 功能使用覆盖率 > 80%
- 用户满意度 > 4.5/5.0

### 7.2 技术指标
- 应用崩溃率 < 0.1%
- 页面加载时间 < 2秒
- 数据库查询响应时间 < 500ms
- 存储空间使用效率 > 85%

## 8. 版本规划

### 8.1 v1.0.0 (MVP)
- P0功能：项目管理、拍照水印、本地存储
- 基础用户界面和交互
- 核心数据结构实现

### 8.2 v1.1.0 (增强版)
- P1功能：照片编辑、照片管理
- 用户体验优化
- 性能提升

### 8.3 v1.2.0 (专业版)
- P2功能：导出分享、团队协作
- 高级水印模板
- 报告生成功能

### 8.4 v1.3.0 (完整版)
- P3功能：云端备份、主题系统
- 完整的团队协作流程
- 企业级功能

---

**文档状态**: 待评审
**下一步**: 技术设计文档 (design.md)
**负责人**: strategic-planner